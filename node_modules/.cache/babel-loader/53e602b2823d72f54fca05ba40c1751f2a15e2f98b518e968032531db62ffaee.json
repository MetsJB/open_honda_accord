{"ast":null,"code":"import{FaUser,FaEdit}from\"react-icons/fa\";import style from\"./reviews.module.css\";import{VscFeedback}from\"react-icons/vsc\";import ModalWindow from\"../ModalWindow/ModalWindow\";import{useEffect,useState,version}from\"react\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Reviews=()=>{const[comments,setComments]=useState([]);useEffect(()=>{fetch(\"http://localhost:4000/api/reviews\").then(response=>{return response.json();}).then(data=>{setComments(data);}).catch(err=>console.log(err));subscribe();},[]);const subscribe=async()=>{const eventSource=new EventSource(\"http://localhost:4000/api/connect\");eventSource.onmessage=event=>{const message=JSON.parse(event.data);setComments(message);};};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"section\",{className:style.container,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u041E\\u0442\\u0437\\u044B\\u0432\\u044B\"}),/*#__PURE__*/_jsxs(\"div\",{className:style.description,children:[\"\\u0417\\u0434\\u0435\\u0441\\u044C \\u0431\\u0443\\u0434\\u0443\\u0442 \\u043D\\u0430\\u0445\\u043E\\u0434\\u0438\\u0442\\u0441\\u044F \\u0412\\u0430\\u0448\\u0438 \\u043E\\u0442\\u0437\\u044B\\u0432\\u044B \\u043E \\u0434\\u0430\\u043D\\u043D\\u043E\\u043C \\u0441\\u0430\\u0439\\u0442\\u0435,\",\" \",/*#__PURE__*/_jsx(\"p\",{children:\"\\u0434\\u043B\\u044F \\u043C\\u0435\\u043D\\u044F \\u043E\\u0447\\u0435\\u043D\\u044C \\u0432\\u0430\\u0436\\u043D\\u0430 \\u043E\\u0431\\u0440\\u0430\\u0442\\u043D\\u0430\\u044F \\u0441\\u0432\\u044F\\u0437\\u044C!\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:style.wrapperFeedBack,children:[/*#__PURE__*/_jsx(VscFeedback,{className:style.feedBack}),/*#__PURE__*/_jsx(\"div\",{className:` ${style.dot} ${style.dotOne}`}),/*#__PURE__*/_jsx(\"div\",{className:` ${style.dot} ${style.dotTwo}`}),/*#__PURE__*/_jsx(\"div\",{className:` ${style.dot} ${style.dotThree}`})]})]}),/*#__PURE__*/_jsx(\"div\",{className:style.leaveFeedBack,children:\"\\u0427\\u0442\\u043E\\u0431\\u044B \\u043E\\u0441\\u0442\\u0430\\u0432\\u0438\\u0442\\u044C \\u043E\\u0442\\u0437\\u044B\\u0432, \\u043D\\u0430\\u0436\\u043C\\u0438\\u0442\\u0435 \\u043D\\u0430 \\u043A\\u043D\\u043E\\u043F\\u043A\\u0443 \\u0432 \\u043F\\u0440\\u0430\\u0432\\u043E\\u043C \\u0432\\u0435\\u0440\\u0445\\u043D\\u0435\\u043C \\u0443\\u0433\\u043B\\u0443 \\\"\\u041E\\u0441\\u0442\\u0430\\u0432\\u0438\\u0442\\u044C \\u043E\\u0442\\u0437\\u044B\\u0432\\\".\"}),/*#__PURE__*/_jsx(\"div\",{className:style.reviews,children:comments.length===0?/*#__PURE__*/_jsx(\"p\",{className:style.zeroComment,children:\"\\u0412\\u044B \\u043C\\u043E\\u0436\\u0435\\u0442\\u0435 \\u0431\\u044B\\u0442\\u044C \\u043F\\u0435\\u0440\\u0432\\u044B\\u043C, \\u043A\\u0442\\u043E \\u043E\\u0441\\u0442\\u0430\\u0432\\u0438\\u0442 \\u043E\\u0442\\u0437\\u044B\\u0432!\"}):/*#__PURE__*/_jsx(\"ul\",{className:style.listComment,children:comments.map((item,index)=>/*#__PURE__*/_jsxs(\"li\",{className:style.itemComment,children:[/*#__PURE__*/_jsxs(\"p\",{className:style.indexNumber,children:[++index,\".\"]}),/*#__PURE__*/_jsxs(\"div\",{className:style.comment,children:[/*#__PURE__*/_jsx(\"p\",{className:style.nameComment,children:item.name}),item.message]})]},index))})})]})});};export default Reviews;","map":{"version":3,"names":["FaUser","FaEdit","style","VscFeedback","ModalWindow","useEffect","useState","version","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Reviews","comments","setComments","fetch","then","response","json","data","catch","err","console","log","subscribe","eventSource","EventSource","onmessage","event","message","JSON","parse","children","className","container","description","wrapperFeedBack","feedBack","dot","dotOne","dotTwo","dotThree","leaveFeedBack","reviews","length","zeroComment","listComment","map","item","index","itemComment","indexNumber","comment","nameComment","name"],"sources":["C:/Users/Zahar/Desktop/Task/frontend/src/components/Reviews/Reviews.jsx"],"sourcesContent":["import { FaUser, FaEdit } from \"react-icons/fa\"\r\nimport style from \"./reviews.module.css\"\r\nimport { VscFeedback } from \"react-icons/vsc\"\r\nimport ModalWindow from \"../ModalWindow/ModalWindow\"\r\nimport { useEffect, useState, version } from \"react\"\r\n\r\nconst Reviews = () => {\r\n  const [comments, setComments] = useState([])\r\n\r\n  useEffect(() => {\r\n    fetch(\"http://localhost:4000/api/reviews\")\r\n      .then((response) => {\r\n        return response.json()\r\n      })\r\n      .then((data) => {\r\n        setComments(data)\r\n      })\r\n      .catch((err) => console.log(err))\r\n\r\n    subscribe()\r\n  }, [])\r\n\r\n  const subscribe = async () => {\r\n    const eventSource = new EventSource(\"http://localhost:4000/api/connect\")\r\n    eventSource.onmessage = (event) => {\r\n      const message = JSON.parse(event.data)\r\n      setComments(message)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <section className={style.container}>\r\n        <h1>Отзывы</h1>\r\n        <div className={style.description}>\r\n          Здесь будут находится Ваши отзывы о данном сайте,{\" \"}\r\n          <p>для меня очень важна обратная связь!</p> <br />\r\n          <div className={style.wrapperFeedBack}>\r\n            <VscFeedback className={style.feedBack} />\r\n            <div className={` ${style.dot} ${style.dotOne}`} />\r\n            <div className={` ${style.dot} ${style.dotTwo}`} />\r\n            <div className={` ${style.dot} ${style.dotThree}`} />\r\n          </div>\r\n        </div>\r\n        <div className={style.leaveFeedBack}>\r\n          Чтобы оставить отзыв, нажмите на кнопку в правом верхнем углу\r\n          \"Оставить отзыв\".\r\n        </div>\r\n\r\n        <div className={style.reviews}>\r\n          {comments.length === 0 ? (\r\n            <p className={style.zeroComment}>\r\n              Вы можете быть первым, кто оставит отзыв!\r\n            </p>\r\n          ) : (\r\n            <ul className={style.listComment}>\r\n              {comments.map((item, index) => (\r\n                <li className={style.itemComment} key={index}>\r\n                  <p className={style.indexNumber}>{++index}.</p>\r\n                  <div className={style.comment}>\r\n                    <p className={style.nameComment}>{item.name}</p>\r\n                    {item.message}\r\n                  </div>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          )}\r\n        </div>\r\n      </section>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Reviews\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}